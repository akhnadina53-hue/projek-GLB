<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Simulasi GLB</title>
    <style>
        canvas {
            border: 1px solid black;
            margin-top: 20px;
        }
    </style>
</head>

<body>

<h1>Simulasi Kejar-kejaran Dua Benda (GLB)</h1>

<label>Posisi awal A (m):</label>
<input id="xA" type="number" value="0"><br><br>

<label>Kecepatan A (m/s):</label>
<input id="vA" type="number" value="2"><br><br>

<label>Posisi awal B (m):</label>
<input id="xB" type="number" value="10"><br><br>

<label>Kecepatan B (m/s):</label>
<input id="vB" type="number" value="1"><br><br>

<button onclick="simulasi()">Simulasikan</button>

<p id="hasil"></p>

<canvas id="kanvas" width="600" height="150"></canvas>

<script>
let animasi;

function simulasi() {
    cancelAnimationFrame(animasi);

    let xA = parseFloat(document.getElementById("xA").value);
    let vA = parseFloat(document.getElementById("vA").value);
    let xB = parseFloat(document.getElementById("xB").value);
    let vB = parseFloat(document.getElementById("vB").value);

    let t = 0;
    let dt = 0.05;

    const canvas = document.getElementById("kanvas");
    const ctx = canvas.getContext("2d");

    const skala = 30; // 1 meter = 30 pixel

    function gambar() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Gambar benda A (merah)
        ctx.beginPath();
        ctx.arc(xA * skala + 50, 75, 10, 0, Math.PI * 2);
        ctx.fillStyle = "red";
        ctx.fill();

        // Gambar benda B (biru)
        ctx.beginPath();
        ctx.arc(xB * skala + 50, 75, 10, 0, Math.PI * 2);
        ctx.fillStyle = "blue";
        ctx.fill();

        // Cek bertemu
        if (Math.abs(xA - xB) < 0.05) {
            document.getElementById("hasil").innerHTML =
                "Benda bertemu pada waktu <b>" + t.toFixed(2) +
                " s</b> di posisi <b>" + ((xA + xB) / 2).toFixed(2) + " m</b>";
            return;
        }

        // Update posisi
        xA += vA * dt;
        xB += vB * dt;
        t += dt;

        animasi = requestAnimationFrame(gambar);
    }

    gambar();
}
</script>

</body>
</html>
